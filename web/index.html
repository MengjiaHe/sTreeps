<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>sTreeps</title>
	<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></script>
	<script src="lib/goo-require.js"></script>
		<script src="js/loadScene.js"></script>
	<link type="text/css" href="css/main.css" rel="stylesheet"></link>
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<script>
		jQuery(function() {
			new sTreepsJS(jQuery); 
		})
		var sTreepsJS = (function($) {
			var _scrollTop = 0,
				_currentText = 0,
				_textDivs;

			function Init() {
				SetJQueryBindings();
			}

			function SetJQueryBindings() {
				$(window).scroll(OnScroll);
				$("#header").on("resize", function(size) {
					console.log(size);
					//window.goo.renderer.setSize()
				});
				_textDivs = $(".mainPost")
			}

			function OnScroll(scroll) {
				var top = $("body").scrollTop();
				var deltaScroll = top - _scrollTop;

				$("#header").toggleClass("minimized", top > 0);

				var infoText = $("#infoText");
				var topOffset = infoText.offset().top;
				var bottomOffset = topOffset + infoText.height();
				if (deltaScroll > 0) {
					if (_currentText <= _textDivs.length)
						if ($(_textDivs[_currentText + 1]).offset().top < bottomOffset) {
							_currentText += 1;
						}
				} else {
					if ($(_textDivs[_currentText]).offset().top > topOffset) {
						_currentText -= 1;
					}
				}

				_scrollTop = top;
				infoText.html(_textDivs[_currentText].getAttribute('data-text'));
			}

			Init();
		});
	</script>
</head>
<body>
<div id="mainContainer">
	<div id="header">
		<div>
			<div id="logo" class="w25100 logo">
			</div>
			<div id="navbar" class="w75100">
				<ul class="ch-grid">
					<li>
						<div class="ch-item ch-img-3">
							<div class="ch-info">
								<p>Media</p>
							</div>
						</div>
					</li>
					<li>
						<div class="ch-item ch-img-2">
							<div class="ch-info">
								<p>Blog</p>
							</div>
						</div>
					</li>
					<li>
						<div class="ch-item ch-img-1">
							<div class="ch-info">
								<p>Mix and match</p>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div id="container">
		<div id="infoText"> 
			These are not normal trees.
		</div>
		<div id="strip1" class="green mainPost" data-text="These are not normal trees.">
		</div>
		<div id="strip2" class="yellow mainPost" data-text="Mix the strips to see <br> the world change.">
		</div>
		<div id="strip3" class="blue mainPost" data-text="available sooner (or later)">
		</div>
		<div id="strip4" class="red mainPost">
			<div id="streepsLogo">
				<img src="img/logo.png">
			</div>
		</div>
	</div>
	<div id="footer">
		<div>
			<div class="media vpadding">
				<span class="icon-stack icon-2x facebookColor clickable">
				  <i class="icon-circle icon-stack-base"></i>
				  <i class="icon-facebook icon-light icon-overlay"></i>
				</span>
				<span class="icon-stack icon-2x googlePlusColor clickable">
				  <i class="icon-circle icon-stack-base"></i>
				  <i class="icon-google-plus icon-light icon-overlay"></i>
				</span>
				<span class="icon-stack icon-2x twitterColor clickable">
				  <i class="icon-circle icon-stack-base"></i>
				  <i class="icon-twitter icon-light icon-overlay"></i>
				</span>
				<span class="icon-stack icon-2x instagramColor clickable">
				  <i class="icon-circle icon-stack-base"></i>
				  <i class="icon-instagram icon-light icon-overlay"></i>
				</span>
				<span class="icon-stack icon-2x pinterestColor clickable">
				  <i class="icon-circle icon-stack-base"></i>
				  <i class="icon-pinterest icon-light icon-overlay"></i>
				</span>
				<span class="icon-stack icon-2x tumblrColor clickable">
				  <i class="icon-circle icon-stack-base"></i>
				  <i class="icon-tumblr icon-light icon-overlay"></i>
				</span>
			</div>
		</div>
	</div>
</div>

</body>
</html>